function clearInputField(){messagesQueue.push(textInput.value);textInput.value=""}function sendMessage(){let n=messagesQueue.shift()||"";if(n.trim()!==""){let t=new Date,i=dialogId,r=new Message(username,n,t,i);sendMessageToHub(r)}}function addMessageToChat(n){if(dialogId===n.dialogId){let t=n.name==username,i=document.createElement("div");i.className=t?"container darker bg-info":"container bg-light";let r=document.createElement("p");r.className="sender";r.className+=t?" text-right text-white":" text-left";r.innerHTML=n.name;let f=document.createElement("p");f.className=t?"text-right text-white":"text-left";f.innerHTML=n.text;let e=document.createElement("span");e.className=t?"time-right text-light":"time-right";var u=new Date;e.innerHTML=u.getDate()+"."+(u.getMonth()+1)+"."+u.getFullYear()+" "+u.toLocaleString("ru",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1});let o=document.createElement("div");o.className="row";let s=document.createElement("div");s.className=t?"col-md-6 offset-md-6":"col-md-6";i.appendChild(r);i.appendChild(f);i.appendChild(e);s.appendChild(i);o.appendChild(s);chat.appendChild(o);chat.scrollTop=chat.scrollHeight}}class Message{constructor(n,t,i,r){this.name=n;this.text=t;this.dateadded=i;this.dialogId=r}}const dialogId=currentDialogId,username=userName,textInput=document.getElementById("messageText"),whenInput=document.getElementById("when"),chat=document.getElementById("chat"),messagesQueue=[];chat.scrollTop=chat.scrollHeight;document.getElementById("submitButton").addEventListener("click",()=>{var n=new Date;let t=document.createElement("span");t.innerHTML=n.getDate()+"."+(n.getMonth()+1)+"."+n.getFullYear()+" "+n.toLocaleString("ru",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})});